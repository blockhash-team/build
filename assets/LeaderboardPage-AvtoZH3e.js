import{ah as L,aB as b,ag as x,ai as R,$ as e,ap as r,aj as p,a1 as _,aC as P,aD as D,an as h}from"./index-nnmHAUxv.js";import{P as B}from"./Page-n_lVWKk7.js";import{s as c,f as j}from"./formattingUtils-z34OwxtB.js";import{c as S,t as E,a as T,b as I,d as $,e as A,f as o}from"./chunk-YRZGWF2W-0OuQW6Xt.js";import{C as M,f as O}from"./index.es-gerB4pnn.js";import"./import-hy56TGyp.js";function U(){const{isConnected:l,address:a}=L(),{leaderboardRanks:s,isClaimLoading:t,handleClaimPot:f,currentEpoch:m}=b(),[n,y]=x.useState(0),[u,w]=x.useState(null),[i,v]=x.useState(null),N={address:"0x195b2D11A765388F4E19efF74599070FC6d01455",abi:P},{data:d}=R({contracts:[{...N,functionName:"epochs",args:[a,m]},{...N,functionName:"getAmountForClaim",args:[a]}],watch:!0});return x.useEffect(()=>{if(d&&s.length>0&&!d.error&&d[0].result){w(parseInt(d[0].result[0]));const k=s.find(C=>C.id=="top-"+parseInt(d[0].result[2]));v(k),y(d[1].result)}},[d,s]),e.jsx("div",{className:"card-fx glass-blur bg-gradient-to-b border-primary-300 from-primary-400 to-primary-500 rounded-xl w-full overflow-hidden p-4",children:e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"font-semibold text-lg",children:["My Stats (Round ",parseInt(m),")"]}),l?e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"card-fx glass-blur bg-background-500/90 rounded-lg p-4",children:[e.jsx("div",{className:"opacity-50",children:"Games played"}),e.jsx(c,{isLoaded:u!==null,className:"font-bold text-4xl w-fit rounded-lg",children:u!==null?u:"---"}),i&&e.jsx(c,{isLoaded:i!==null,className:"rounded-full mt-4 w-fit",children:e.jsxs(S,{variant:"flat",color:"warning",size:"md",children:[e.jsx("span",{children:"You are in the "}),e.jsxs("span",{className:"font-bold",children:[i&&i.title," "]}),e.jsxs("span",{children:["with another ",i&&i.totalPlayers," players!"]})]})})]}),n&&e.jsxs("div",{className:"card-fx glass-blur bg-background-500/90 rounded-lg p-4",children:[e.jsx("div",{className:"opacity-50",children:"Rewards"}),e.jsx(c,{isLoaded:n!==null,className:"rounded-lg",children:e.jsxs("div",{className:"flex flex-row items-center gap-2 mt-2",children:[e.jsx("img",{src:r.icon,alt:r.symbol,className:"w-6 h-6"}),e.jsxs("div",{className:"text-xl font-semibold",children:[n!=0?j(p(n,18)):"0"," ",r.symbol]})]})}),e.jsx(_,{onClick:f,isLoading:t,isDisabled:t||!n,color:"primary",variant:"flat",className:"mt-4 font-semibold w-full",children:t?"Claiming...":"Claim"})]})]}):e.jsx("div",{className:"text-center opacity-40 py-16",children:"Please connect your wallet first to see your stats"})]})})}function F(){const{leaderboardDropBalance:l,nextDropTime:a}=b();return e.jsxs("div",{className:"card-fx glass-blur bg-background-300 rounded-xl w-full overflow-hidden p-4",children:[e.jsx("div",{className:"font-semibold",children:"Leaderboard Drop Pot"}),e.jsx(c,{isLoaded:l!==null,className:"rounded-lg mt-5 flex flex-col gap-4 min-h-[6rem]",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm opacity-50",children:"Next Drop"}),e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("img",{src:r.icon,alt:r.symbol,className:"w-5 h-5"}),e.jsxs("div",{className:"font-semibold text-lg",children:[l&&p(l,18)!=0?j(p(l,18)):0," BLOCK"]})]})]}),a&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm opacity-50",children:"Next Drop Countdown"}),e.jsxs("div",{className:"flex flex-row items-center justify-between",children:[e.jsx("div",{children:e.jsx(M,{date:a,autoStart:!0,zeroPadDays:1,zeroPadTime:2,daysInHours:!0,renderer:({completed:s,formatted:{hours:t,minutes:f,seconds:m}})=>e.jsxs("div",{className:"font-semibold text-lg",children:[t,":",f,":",m]})})}),e.jsx("div",{className:"text-sm opacity-50",children:O(a,"dd MMM yy - HH:mm")})]})]})]})})]})}const g=[{id:"title",key:"title",title:"Title",className:""},{id:"condition",key:"condition",title:"Condition",className:""},{id:"reward-distribution",key:"rewardDistribution",title:"Reward Share",className:"text-right"},{id:"total-rewards",key:"totalRewards",title:"Total Rewards",className:"text-right"},{id:"total-players",key:"totalPlayers",title:"Total Players",className:"text-right"}];function H(){const{leaderboardRanks:l}=b();return e.jsx(c,{isLoaded:l,className:"rounded-lg w-full",children:e.jsxs(E,{"aria-label":"Leaderboard Rank",classNames:{base:"max-h-[32rem]",table:"bg-background-500 min-w-[54rem]",wrapper:"card-fx min-h-[20rem] rounded-lg shadow-xl",th:"bg-background-200 text-white py-4"},isHeaderSticky:!0,children:[e.jsx(T,{className:"!card-fx bg-primary",children:g.map(a=>e.jsx(I,{className:`${a.className} text-md`,children:a.title},a.key))}),e.jsx($,{items:l||[],emptyContent:"No data found.",loadingState:l==[]?"loading":"idle",loadingContent:e.jsx(D,{}),children:l.map(a=>e.jsx(A,{className:"border-b border-b-white/10",children:g.map(s=>{const t=`${s.className} py-4 text-sm`;return s.id==="title"?e.jsx(o,{className:`${t} font-bold`,children:a[s.key]},s.key):s.id==="condition"?e.jsxs(o,{className:`${t}`,children:[a.minPlayCount," - ",a.maxPlayCount," games played"]},s.key):s.id==="reward-distribution"?e.jsxs(o,{className:`${t}`,children:[a.rewardDistribution*100,"%"]},s.key):s.id==="total-rewards"?e.jsx(o,{className:`${t}`,children:e.jsxs("div",{className:"flex flex-row items-center w-full justify-end font-semibold",children:[e.jsxs("div",{children:[j(a.totalRewards)," ",r.symbol]}),e.jsx("img",{src:r.icon,alt:r.name,className:"w-4 h-4 ml-2 -mt-1"})]})},s.key):e.jsx(o,{className:`${t}`,children:a[s.key]},s.key)})},a.totalRewards))})]})})}function Q(){return e.jsx(B,{title:"Leaderboard",children:e.jsx("div",{className:"container max-w-5xl mx-auto px-2 lg:px-8 pb-[10rem]",children:e.jsxs("div",{className:"grid grid-cols-12 md:gap-[1rem] lg:gap-[2rem]",children:[e.jsx("div",{className:"col-span-12 md:col-span-7",children:e.jsx(h,{type:"fadeInUp",className:"mt-8",children:e.jsx(U,{})})}),e.jsx("div",{className:"col-span-12 md:col-span-5",children:e.jsx(h,{type:"fadeInUp",className:"mt-8",delay:.1,children:e.jsx(F,{})})}),e.jsx("div",{className:"col-span-12",children:e.jsx(h,{type:"fadeInUp",className:"mt-8",delay:.2,children:e.jsxs("div",{className:"card-fx glass-blur p-6 rounded-lg",children:[e.jsx("div",{className:"text-xl font-semibold mb-5",children:"Leaderboard Ranks Rules"}),e.jsx(H,{})]})})})]})})})}export{Q as default};
