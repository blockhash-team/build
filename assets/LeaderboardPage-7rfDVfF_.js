import{ah as $,bn as _,ag as N,ai as z,$ as n,ap as b,aj as C,a1 as U,bo as B,bp as V,an as S}from"./index-Sl5g17R7.js";import{P as q}from"./Page-Bzhqvvou.js";import{s as w,f as R}from"./formattingUtils-YgP8nc7d.js";import{c as H,t as J,a as Q,b as K,d as G,e as Z,f as y}from"./chunk-YRZGWF2W-W8Hv4JQi.js";import"./import-zpDMumWz.js";function W(e){"@babel/helpers - typeof";return W=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},W(e)}function v(e,a){if(a.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+a.length+" present")}function c(e){v(1,arguments);var a=Object.prototype.toString.call(e);return e instanceof Date||W(e)==="object"&&a==="[object Date]"?new Date(e.getTime()):typeof e=="number"||a==="[object Number]"?new Date(e):((typeof e=="string"||a==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}var ee={};function ae(){return ee}function O(e){var a=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return a.setUTCFullYear(e.getFullYear()),e.getTime()-a.getTime()}function j(e,a){v(2,arguments);var t=c(e),r=c(a),s=t.getTime()-r.getTime();return s<0?-1:s>0?1:s}function te(e,a){v(2,arguments);var t=c(e),r=c(a),s=t.getFullYear()-r.getFullYear(),l=t.getMonth()-r.getMonth();return s*12+l}function ne(e,a){return v(2,arguments),c(e).getTime()-c(a).getTime()}var A={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(a){return a<0?Math.ceil(a):Math.floor(a)}},re="trunc";function ie(e){return e?A[e]:A[re]}function se(e){v(1,arguments);var a=c(e);return a.setHours(23,59,59,999),a}function oe(e){v(1,arguments);var a=c(e),t=a.getMonth();return a.setFullYear(a.getFullYear(),t+1,0),a.setHours(23,59,59,999),a}function le(e){v(1,arguments);var a=c(e);return se(a).getTime()===oe(a).getTime()}function de(e,a){v(2,arguments);var t=c(e),r=c(a),s=j(t,r),l=Math.abs(te(t,r)),i;if(l<1)i=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-s*l);var u=j(t,r)===-s;le(c(e))&&l===1&&j(e,r)===1&&(u=!1),i=s*(l-Number(u))}return i===0?0:i}function ue(e,a,t){v(2,arguments);var r=ne(e,a)/1e3;return ie(t==null?void 0:t.roundingMethod)(r)}var ce={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},me=function(a,t,r){var s,l=ce[a];return typeof l=="string"?s=l:t===1?s=l.one:s=l.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+s:s+" ago":s};const fe=me;function k(e){return function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=a.width?String(a.width):e.defaultWidth,r=e.formats[t]||e.formats[e.defaultWidth];return r}}var he={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ve={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},be={date:k({formats:he,defaultWidth:"full"}),time:k({formats:ve,defaultWidth:"full"}),dateTime:k({formats:ge,defaultWidth:"full"})};const ye=be;var pe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xe=function(a,t,r,s){return pe[a]};const we=xe;function p(e){return function(a,t){var r=t!=null&&t.context?String(t.context):"standalone",s;if(r==="formatting"&&e.formattingValues){var l=e.defaultFormattingWidth||e.defaultWidth,i=t!=null&&t.width?String(t.width):l;s=e.formattingValues[i]||e.formattingValues[l]}else{var u=e.defaultWidth,o=t!=null&&t.width?String(t.width):e.defaultWidth;s=e.values[o]||e.values[u]}var m=e.argumentCallback?e.argumentCallback(a):a;return s[m]}}var Me={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Ne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},je={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},De={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Pe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Se={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ke=function(a,t){var r=Number(a),s=r%100;if(s>20||s<10)switch(s%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Te={ordinalNumber:ke,era:p({values:Me,defaultWidth:"wide"}),quarter:p({values:Ne,defaultWidth:"wide",argumentCallback:function(a){return a-1}}),month:p({values:je,defaultWidth:"wide"}),day:p({values:De,defaultWidth:"wide"}),dayPeriod:p({values:Pe,defaultWidth:"wide",formattingValues:Se,defaultFormattingWidth:"wide"})};const Ce=Te;function x(e){return function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=t.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],l=a.match(s);if(!l)return null;var i=l[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],o=Array.isArray(u)?_e(u,function(h){return h.test(i)}):We(u,function(h){return h.test(i)}),m;m=e.valueCallback?e.valueCallback(o):o,m=t.valueCallback?t.valueCallback(m):m;var f=a.slice(i.length);return{value:m,rest:f}}}function We(e,a){for(var t in e)if(e.hasOwnProperty(t)&&a(e[t]))return t}function _e(e,a){for(var t=0;t<e.length;t++)if(a(e[t]))return t}function Re(e){return function(a){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=a.match(e.matchPattern);if(!r)return null;var s=r[0],l=a.match(e.parsePattern);if(!l)return null;var i=e.valueCallback?e.valueCallback(l[0]):l[0];i=t.valueCallback?t.valueCallback(i):i;var u=a.slice(s.length);return{value:i,rest:u}}}var Le=/^(\d+)(th|st|nd|rd)?/i,Oe=/\d+/i,Ae={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Fe={any:[/^b/i,/^(a|c)/i]},Ee={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ie={any:[/1/i,/2/i,/3/i,/4/i]},Xe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ye={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},ze={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Be={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ve={ordinalNumber:Re({matchPattern:Le,parsePattern:Oe,valueCallback:function(a){return parseInt(a,10)}}),era:x({matchPatterns:Ae,defaultMatchWidth:"wide",parsePatterns:Fe,defaultParseWidth:"any"}),quarter:x({matchPatterns:Ee,defaultMatchWidth:"wide",parsePatterns:Ie,defaultParseWidth:"any",valueCallback:function(a){return a+1}}),month:x({matchPatterns:Xe,defaultMatchWidth:"wide",parsePatterns:Ye,defaultParseWidth:"any"}),day:x({matchPatterns:$e,defaultMatchWidth:"wide",parsePatterns:ze,defaultParseWidth:"any"}),dayPeriod:x({matchPatterns:Ue,defaultMatchWidth:"any",parsePatterns:Be,defaultParseWidth:"any"})};const qe=Ve;var He={code:"en-US",formatDistance:fe,formatLong:ye,formatRelative:we,localize:Ce,match:qe,options:{weekStartsOn:0,firstWeekContainsDate:1}};const Je=He;function I(e,a){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&(e[t]=a[t]);return e}function Qe(e){return I({},e)}var F=1440,Ke=2520,T=43200,Ge=86400;function Ze(e,a,t){var r,s;v(2,arguments);var l=ae(),i=(r=(s=t==null?void 0:t.locale)!==null&&s!==void 0?s:l.locale)!==null&&r!==void 0?r:Je;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var u=j(e,a);if(isNaN(u))throw new RangeError("Invalid time value");var o=I(Qe(t),{addSuffix:!!(t!=null&&t.addSuffix),comparison:u}),m,f;u>0?(m=c(a),f=c(e)):(m=c(e),f=c(a));var h=ue(f,m),M=(O(f)-O(m))/1e3,d=Math.round((h-M)/60),g;if(d<2)return t!=null&&t.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,o):h<10?i.formatDistance("lessThanXSeconds",10,o):h<20?i.formatDistance("lessThanXSeconds",20,o):h<40?i.formatDistance("halfAMinute",0,o):h<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):d===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",d,o);if(d<45)return i.formatDistance("xMinutes",d,o);if(d<90)return i.formatDistance("aboutXHours",1,o);if(d<F){var D=Math.round(d/60);return i.formatDistance("aboutXHours",D,o)}else{if(d<Ke)return i.formatDistance("xDays",1,o);if(d<T){var X=Math.round(d/F);return i.formatDistance("xDays",X,o)}else if(d<Ge)return g=Math.round(d/T),i.formatDistance("aboutXMonths",g,o)}if(g=de(f,m),g<12){var Y=Math.round(d/T);return i.formatDistance("xMonths",Y,o)}else{var L=g%12,P=Math.floor(g/12);return L<3?i.formatDistance("aboutXYears",P,o):L<9?i.formatDistance("overXYears",P,o):i.formatDistance("almostXYears",P+1,o)}}function ea(){const{isConnected:e,address:a}=$(),{leaderboardRanks:t,isClaimLoading:r,handleClaimPot:s,currentEpoch:l}=_(),[i,u]=N.useState(0),[o,m]=N.useState(null),[f,h]=N.useState(null),M={address:"0x195b2D11A765388F4E19efF74599070FC6d01455",abi:B},{data:d}=z({contracts:[{...M,functionName:"epochs",args:[a,l]},{...M,functionName:"getAmountForClaim",args:[a]}],watch:!0});return N.useEffect(()=>{if(d&&t.length>0&&!d.error&&d[0].result){m(parseInt(d[0].result[0]));const g=t.find(D=>D.id=="top-"+parseInt(d[0].result[2]));h(g),u(d[1].result)}},[d,t]),n.jsx("div",{className:"card-fx glass-blur bg-gradient-to-b from-primary-500/40 to-secondary-600/70 rounded-xl w-full overflow-hidden p-4",children:n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"font-semibold text-lg",children:["My Stats (Round ",parseInt(l),")"]}),e?n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"card-fx glass-blur bg-background-500/90 rounded-lg p-4",children:[n.jsx("div",{className:"opacity-50",children:"Games played"}),n.jsx(w,{isLoaded:o!==null,className:"font-bold text-4xl w-fit rounded-lg",children:o!==null?o:"---"}),f&&n.jsx(w,{isLoaded:f!==null,className:"rounded-full mt-4 w-fit",children:n.jsxs(H,{variant:"flat",color:"warning",size:"md",children:[n.jsx("span",{children:"You are in the "}),n.jsxs("span",{className:"font-bold",children:[f&&f.title," "]}),n.jsxs("span",{children:["with another ",f&&f.totalPlayers," players!"]})]})})]}),i&&n.jsxs("div",{className:"card-fx glass-blur bg-background-500/90 rounded-lg p-4",children:[n.jsx("div",{className:"opacity-50",children:"Rewards"}),n.jsx(w,{isLoaded:i!==null,className:"rounded-lg",children:n.jsxs("div",{className:"flex flex-row items-center gap-2 mt-2",children:[n.jsx("img",{src:b.icon,alt:b.symbol,className:"w-6 h-6"}),n.jsxs("div",{className:"text-xl font-semibold",children:[i!=0?R(C(i,18)):"0"," ",b.symbol]})]})}),n.jsx(U,{onClick:s,isLoading:r,isDisabled:r||!i,color:"primary",variant:"flat",className:"mt-4 font-semibold w-full",children:r?"Claiming...":"Claim"})]})]}):n.jsx("div",{className:"text-center opacity-40 py-16",children:"Please connect your wallet first to see your stats"})]})})}function aa(){const{nextDrop:e,leaderboardDropBalance:a,nextDropTime:t}=_();return n.jsxs("div",{className:"card-fx glass-blur bg-background-300 rounded-xl w-full overflow-hidden p-4",children:[n.jsx("div",{className:"font-semibold",children:"Leaderboard Drop Pot"}),n.jsxs(w,{isLoaded:e!==null,className:"rounded-lg mt-5",children:[n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold",children:"Next Drop "}),n.jsxs("span",{className:"opacity-50",children:["(",Ze(new Date(t),new Date),")"]})]}),n.jsxs("div",{className:"flex flex-row items-center gap-2",children:[n.jsx("img",{src:b.icon,alt:b.symbol,className:"w-5 h-5"}),n.jsxs("div",{className:"font-semibold text-lg",children:[a&&C(a,18)!=0?R(C(a,18)):0," BLOCK"]})]})]})]})}const E=[{id:"title",key:"title",title:"Title",className:""},{id:"condition",key:"condition",title:"Condition",className:""},{id:"reward-distribution",key:"rewardDistribution",title:"Reward Share",className:"text-right"},{id:"total-rewards",key:"totalRewards",title:"Total Rewards",className:"text-right"},{id:"total-players",key:"totalPlayers",title:"Total Players",className:"text-right"}];function ta(){const{leaderboardRanks:e}=_();return n.jsx(w,{isLoaded:e,className:"rounded-lg w-full",children:n.jsxs(J,{"aria-label":"Leaderboard Rank",classNames:{base:"max-h-[32rem]",table:"bg-background-500 min-w-[54rem]",wrapper:"card-fx min-h-[20rem] rounded-lg shadow-xl",th:"bg-background-200 text-white py-4"},isHeaderSticky:!0,children:[n.jsx(Q,{className:"!card-fx bg-primary",children:E.map(a=>n.jsx(K,{className:`${a.className} text-md`,children:a.title},a.key))}),n.jsx(G,{items:e||[],emptyContent:"No data found.",loadingState:e==[]?"loading":"idle",loadingContent:n.jsx(V,{}),children:e.map(a=>n.jsx(Z,{className:"border-b border-b-white/10",children:E.map(t=>{const r=`${t.className} py-4 text-sm`;return t.id==="title"?n.jsx(y,{className:`${r} font-bold`,children:a[t.key]},t.key):t.id==="condition"?n.jsxs(y,{className:`${r}`,children:[a.minPlayCount," - ",a.maxPlayCount," games played"]},t.key):t.id==="reward-distribution"?n.jsxs(y,{className:`${r}`,children:[a.rewardDistribution*100,"%"]},t.key):t.id==="total-rewards"?n.jsx(y,{className:`${r}`,children:n.jsxs("div",{className:"flex flex-row items-center w-full justify-end font-semibold",children:[n.jsxs("div",{children:[R(a.totalRewards)," ",b.symbol]}),n.jsx("img",{src:b.icon,alt:b.name,className:"w-4 h-4 ml-2 -mt-1"})]})},t.key):n.jsx(y,{className:`${r}`,children:a[t.key]},t.key)})},a.totalRewards))})]})})}function la(){return n.jsx(q,{title:"Leaderboard",children:n.jsx("div",{className:"container max-w-5xl mx-auto px-2 lg:px-8 pb-[10rem]",children:n.jsxs("div",{className:"grid grid-cols-12 md:gap-[1rem] lg:gap-[2rem]",children:[n.jsx("div",{className:"col-span-12 md:col-span-7",children:n.jsx(S,{type:"fadeInUp",className:"mt-8",children:n.jsx(ea,{})})}),n.jsx("div",{className:"col-span-12 md:col-span-5",children:n.jsx(S,{type:"fadeInUp",className:"mt-8",delay:.1,children:n.jsx(aa,{})})}),n.jsx("div",{className:"col-span-12",children:n.jsx(S,{type:"fadeInUp",className:"mt-8",delay:.2,children:n.jsxs("div",{className:"card-fx glass-blur p-6 rounded-lg",children:[n.jsx("div",{className:"text-xl font-semibold mb-5",children:"Leaderboard Ranks Rules"}),n.jsx(ta,{})]})})})]})})})}export{la as default};
